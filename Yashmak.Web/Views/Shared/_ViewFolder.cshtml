@model Yashmak.Web.ViewModels.Directory.DirectoryViewModel

<div id="files">
    <div class="row">
        <ol class="breadcrumb">
            @{
                @Html.DisplayFor(x => x.NavigationModels)
            }
        </ol>
    </div>
    
    <input type="hidden" id="curFolderId" value="null"/>
    <div class="">
        @Ajax.ActionLink(" Upload", "FileUpload", "Upload", 
            new { fileNodeId = @Model.FileNodeId }, 
            new AjaxOptions
                {
                    UpdateTargetId = "files", 
                    InsertionMode = InsertionMode.Replace, 
                    HttpMethod = "GET", 
                }, 
            new { @class = "fa fa-upload dynamic-change-id btn btn-primary btn-sm" })

        @Html.ActionLink(" Folder", "CreateFolder", "Directory", 
            new { fileNodeId = @Model.FileNodeId }, 
            new { @class = "fa fa-folder-o dynamic-change-id btn btn-inverse btn-sm" })
    </div>
    <div class="row">
        <table class="table table-responsive table-condensed table-hover table-striped">
            <thead>
                <tr>
                    <th></th>
                    <th style="width: 50%">
                        @Ajax.ActionLink("Name", "ViewFolder", "Files",
                            new
                                {
                                    filenodeid = Model.FileNodeId,
                                    sortOrder = ViewBag.NameSortParm
                                },
                            new AjaxOptions
                                {
                                    UpdateTargetId = "files",
                                    HttpMethod = "GET",
                                    InsertionMode = InsertionMode.Replace,
                                })
                    </th>
                    <th>Kind</th>
                    <th>@Ajax.ActionLink("Modified", "ViewFolder", "Files",
                            new
                                {
                                    filenodeid = Model.FileNodeId,
                                    sortOrder = ViewBag.DateSortParm
                                },
                            new AjaxOptions
                                {
                                    UpdateTargetId = "files",
                                    HttpMethod = "GET",
                                    InsertionMode = InsertionMode.Replace,
                                })</th>
                    <th>@Ajax.ActionLink("Size", "ViewFolder", "Files",
                            new
                                {
                                    filenodeid = Model.FileNodeId,
                                    sortOrder = ViewBag.SizeSortParm
                                },
                            new AjaxOptions
                                {
                                    UpdateTargetId = "files",
                                    HttpMethod = "GET",
                                    InsertionMode = InsertionMode.Replace,
                                })</th>
                    <th>@Ajax.ActionLink("Permission", "ViewFolder", "Files",
                            new
                                {
                                    filenodeid = Model.FileNodeId,
                                    sortOrder = ViewBag.PermSortParm
                                },
                            new AjaxOptions
                                {
                                    UpdateTargetId = "files",
                                    HttpMethod = "GET",
                                    InsertionMode = InsertionMode.Replace,
                                })</th>
                </tr>
            </thead>
            <tbody>
                @Html.DisplayFor(x => x.Files)
            </tbody>
        </table>
    </div>

</div>